<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Classic memory card game with playing cards">
    <meta name="theme-color" content="#667eea">
    
    <title>Memory Card Game</title>
    
    <!-- Favicon -->
    <link rel="icon" href="assets/icons/favicon.ico" type="image/x-icon">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- iOS Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Memory Game">
    <link rel="apple-touch-icon" href="assets/icons/icon-192.png">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
    <!-- Main Menu Screen -->
    <div class="screen main-menu active" id="mainMenu">
        <h1 class="main-title">üÉè Memory</h1>
        <p class="menu-subtitle">Test your memory with classic playing cards</p>
        <div class="menu-buttons">
            <button class="menu-btn" onclick="startNewGame()">Start Game</button>
            <button class="menu-btn" onclick="showScreen('optionsScreen')">Options</button>
            <button class="menu-btn" onclick="showScreen('historyScreen')">Play History</button>
            <button class="menu-btn" onclick="exitGame()">Exit Game</button>
        </div>
    </div>

    <!-- Game Screen -->
    <div class="screen game-screen" id="gameScreen">
        <div class="game-header">
            <h1 class="game-title">üÉè Memory Card Game</h1>
            
            <div class="revealed-cards-section">
                <div class="revealed-title">Revealed Pairs</div>
                <div class="revealed-cards" id="revealedCards"></div>
            </div>
            
            <div class="game-stats">
                <div class="stat">
                    <div class="stat-label">Flips</div>
                    <div class="stat-value" id="flips">0</div>
                </div>
                <div class="stat">
                    <div class="stat-label">Misses</div>
                    <div class="stat-value" id="misses">0</div>
                </div>
                <div class="stat">
                    <div class="stat-label">Efficiency</div>
                    <div class="stat-value" id="efficiency">100%</div>
                </div>
            </div>
        </div>

        <div class="game-board" id="gameBoard"></div>

        <div class="controls">
            <button class="btn" onclick="startNewGame()">New Game</button>
            <button class="btn" onclick="showScreen('mainMenu')">Main Menu</button>
        </div>
    </div>

    <!-- Options Screen -->
    <div class="screen options-screen" id="optionsScreen">
        <h1 class="options-title">‚öôÔ∏è Options</h1>
        <div class="options-content">
            <p class="coming-soon">Options menu coming soon!</p>
            <p style="margin-top: 20px; opacity: 0.7;">Future features: Grid size, Timer mode, Sound effects</p>
        </div>
        <div class="controls">
            <button class="btn" onclick="showScreen('mainMenu')">Back to Menu</button>
        </div>
    </div>

    <!-- History Screen -->
    <div class="screen history-screen" id="historyScreen">
        <h1 class="history-title">üìä Play History</h1>
        <div class="history-list" id="historyList">
            <div class="no-history">No games played yet. Start your first game to see your history!</div>
        </div>
        <div class="controls">
            <button class="btn" onclick="clearHistory()">Clear History</button>
            <button class="btn" onclick="showScreen('mainMenu')">Back to Menu</button>
        </div>
    </div>

    <!-- Game Over Modal -->
    <div class="game-over" id="gameOver">
        <div class="game-over-content">
            <h2>üéâ Congratulations!</h2>
            <p>You've completed the memory game!</p>
            <div class="game-over-stats" id="finalStats"></div>
            <button class="btn" onclick="closeGameOver()">Continue</button>
            <button class="btn" onclick="closeGameOver(); showScreen('mainMenu');">Main Menu</button>
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="js/utils.js"></script>
    <script src="js/game.js"></script>
    <script src="js/ui.js"></script>
    
    <!-- PWA Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('sw.js')
                    .then(function(registration) {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch(function(err) {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }
    </script>
</body>
</html>